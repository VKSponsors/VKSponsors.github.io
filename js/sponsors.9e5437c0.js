(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["sponsors","chunk-65b8a6a2"],{"0349":function(t,e,s){"use strict";var a=s("5e8d"),r=s.n(a);r.a},"2ee0":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("BaseView",{scopedSlots:t._u([{key:"title",fn:function(){return[a("BaseHead",{attrs:{level:"1"}},[t._v("Спонсоры")])]},proxy:!0},{key:"actions",fn:function(){return[a("div",{staticClass:"filter-actions"},[a("FieldSearch",{attrs:{placeholder:"Поиск спонсоров"},scopedSlots:t._u([{key:"actionEnd",fn:function(){return[a("BaseLink",{on:{click:function(e){e.stopPropagation(),t.modalParams=!0}}},[t._v("Параметры")])]},proxy:!0}])}),t.filteredLevels.length>0||t.filter.start.start||t.filter.end.start?a("div",{staticClass:"filter-actions__filters"},[t._l(t.filteredLevels,(function(e){return a("BaseTag",{staticClass:"filter-actions__filter",attrs:{text:e.text,removable:""},on:{remove:function(s){return t.onFilterClearLevel(e.value)}}})})),t.filter.start.start?a("BaseTag",{staticClass:"filter-actions__filter",attrs:{removable:""},on:{remove:function(e){return t.onFilterClearDate("start")}}},[t._v(" Начало: "+t._s(t._f("formatDatetime")(t.filter.start.start))+" — "+t._s(t._f("formatDatetime")(t.filter.start.end))+" ")]):t._e(),t.filter.end.start?a("BaseTag",{staticClass:"filter-actions__filter",attrs:{removable:""},on:{remove:function(e){return t.onFilterClearDate("end")}}},[t._v(" Окончание: "+t._s(t._f("formatDatetime")(t.filter.end.start))+" — "+t._s(t._f("formatDatetime")(t.filter.end.end))+" ")]):t._e()],2):t._e()],1)]},proxy:!0}])},[0==t.sponsors?[a("ElementPlaceholder",{attrs:{icon:s("4679")}},[t._v(" Пока что еще нет спонсоров. Расскажите Вашему сообществу о возможных уровнях спонсорства и мотивируйте пользователей различными наградами ")])]:[a("BaseHead",{attrs:{level:"3"},scopedSlots:t._u([{key:"description",fn:function(){return[a("DropdownSelectable",{attrs:{label:"Сортировка:",options:[{text:"По дате начала спонсорства — сначала первые"},{text:"По дате начала спонсорства — сначала последние",selected:!0},{text:"По дате окончания спонсорства — сначала первые"},{text:"По дате окончания спонсорства — сначала последние"},{text:"По продолжительности спонсорства — сначала самые долгие"},{text:"По продолжительности спонсорства — сначала самые краткие"}]}})]},proxy:!0}])},[t._v(" Текущие спонсоры ")]),a("div",{staticClass:"sponsors"},[t._l(t.sponsors,(function(e){return[a("div",{staticClass:"sponsors__avatar"},[a("ElementAvatar",{attrs:{src:"https://sun3-12.userapi.com/c836333/v836333001/31192/y1Cm4JfplhQ.jpg"}})],1),a("div",{staticClass:"sponsors__info"},[a("BaseLink",[t._v("Павел Дуров")]),a("BaseMessage",[t._v("Уровень Silver")])],1),a("div",{staticClass:"sponsors__start"},[a("div",{staticClass:"sponsors__label"},[t._v(" Начало спонсорства ")]),t._v(" "+t._s(t._f("formatDatetime")(Date.now()))+" ")]),a("div",{staticClass:"sponsors__end"},[a("div",{staticClass:"sponsors__label"},[t._v(" Окончание спонсорства ")]),t._v(" "+t._s(t._f("formatDatetime")(Date.now()+2592e6))+" ")]),a("div",{staticClass:"sponsors__actions"},[a("BaseDropdown",{attrs:{options:[{text:"Показать всех с уровнем Silver"},{text:"Добавить комментарий",click:function(){return t.modalComment=!0}}]}},[a("BaseButton",{attrs:{type:"tertiary",mode:"rounded"},scopedSlots:t._u([{key:"prepend",fn:function(){return[a("font-awesome-icon",{attrs:{icon:"ellipsis-h"}})]},proxy:!0}],null,!0)})],1)],1),a("div",{staticClass:"sponsors__line"})]}))],2)],a("BaseModal",{attrs:{show:t.modalParams,title:"Параметры"},on:{"update:show":function(e){t.modalParams=e}}},[a("BaseForm",{on:{submit:t.onSelectParams}},[a("BaseFormField",{attrs:{type:"select",label:"Уровень",placeholder:"Выберите уровень",name:"level",multiple:"",options:t.levels,selected:t.filter.levels}}),a("BaseFormField",{attrs:{type:"datetime",name:"date_start",label:"Начало спонсорства",placeholder:"Выберите даты",start:t.filter.start.start,end:t.filter.start.end,range:"",timepicker:""},scopedSlots:t._u([{key:"message",fn:function(){return[t._v(" Выбор пользователей, которые стали спонсором в указанном диапазоне дат ")]},proxy:!0}])}),a("BaseFormField",{attrs:{type:"datetime",name:"date_end",label:"Окончание спонсорства",placeholder:"Выберите даты",start:t.filter.end.start,end:t.filter.end.end,range:"",timepicker:""},scopedSlots:t._u([{key:"message",fn:function(){return[t._v(" Выбор пользователей, которые перестанут быть спонсором в указанном диапазоне дат ")]},proxy:!0}])}),a("div",{staticClass:"form__actions"},[a("BaseFormButton",{attrs:{label:"Показать"}}),a("BaseButton",{attrs:{label:"Сбросить",type:"tertiary"},on:{click:t.onFilterClear}})],1)],1)],1),a("BaseModal",{attrs:{show:t.modalComment,title:"Павел Дуров"},on:{"update:show":function(e){t.modalComment=e}}},[a("BaseForm",{on:{submit:t.onAddComment}},[a("BaseFormField",{attrs:{type:"textarea",label:"Комментарий",maxlength:100,placeholder:"Например: данный спонсор хотел бы видеть новые тематики в моем творчестве"},scopedSlots:t._u([{key:"message",fn:function(){return[t._v(" Небольшой текст для личных заметок. Комментарий будет виден только руководителям Вашего сообщества ")]},proxy:!0}])}),a("BaseFormButton",{attrs:{label:"Готово"}})],1)],1)],2)},r=[],n=(s("99af"),s("4de4"),s("caad"),s("d3b7"),s("ac1f"),s("25f0"),s("2532"),s("1276"),s("eff1")),o=s("6eb9"),l=s("8dbf"),i=s("ab8e"),c={name:"Sponsors",components:{ElementPlaceholder:i["default"],DropdownSelectable:l["a"],ElementAvatar:o["a"],FieldSearch:n["a"]},data:function(){return{modalParams:!1,modalComment:!1,filter:{user:"",levels:[],start:{start:null,end:null},end:{start:null,end:null}},levels:[{text:"Silver",value:1},{text:"Gold",value:2},{text:"Diamond",value:3},{text:"Ыть))",value:31}],sponsors:10}},computed:{filteredLevels:function(){var t=this;return this.levels.filter((function(e){return t.filter.levels.includes(e.value.toString())}))}},methods:{onSelectParams:function(t,e){this.modalParams=!1,this.filter.levels=t.get("level").split(","),this.filter.start={start:t.get("date_start_start"),end:t.get("date_start_end")},this.filter.end={start:t.get("date_end_start"),end:t.get("date_end_end")}},onFilterClear:function(){this.filter.levels=[],this.onFilterClearDate("start"),this.onFilterClearDate("end"),this.modalParams=!1},onFilterClearLevel:function(t){this.filter.levels=this.filter.levels.filter((function(e){return e!==t}))},onFilterClearDate:function(t){this.filter[t].start=null,this.filter[t].end=null},onAddComment:function(){this.modalComment=!1},formatDatetimeRange:function(t,e){var s="".concat(this.$format.datetime(t)," — ").concat(this.$format.datetime(e));return this.$format.nbsp(s)}}},d=c,u=(s("4f47"),s("2877")),f=Object(u["a"])(d,a,r,!1,null,"2d6b330f",null);e["default"]=f.exports},"45fc":function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").some,n=s("a640"),o=s("ae40"),l=n("some"),i=o("some");a({target:"Array",proto:!0,forced:!l||!i},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},4679:function(t,e,s){t.exports=s.p+"img/public-address-loudspeaker.906783ef.png"},"4f47":function(t,e,s){"use strict";var a=s("76ec"),r=s.n(a);r.a},"5e8d":function(t,e,s){},"6eb9":function(t,e,s){"use strict";var a=function(t,e){var s=e._c;return s("div",{staticClass:"avatar",class:[e.data.class,e.data.staticClass,"avatar_size_"+e.props.size],style:{backgroundImage:"url("+e.props.src+")"}},[e.props.corner||e.$slots.default?s("div",{staticClass:"avatar__corner",class:"avatar__corner_color_"+e.props.cornerColor},[e._t("default"),e.props.corner?[e._v(" "+e._s(e.corner)+" ")]:e._e()],2):e._e()])},r=[],n={name:"ElementAvatar",props:{src:String,size:{type:String,default:"medium"},corner:String,cornerColor:{type:String,default:"green"}}},o=n,l=(s("91a6"),s("2877")),i=Object(l["a"])(o,a,r,!0,null,"154d9d73",null);e["a"]=i.exports},"76ec":function(t,e,s){},"853a":function(t,e,s){"use strict";var a=s("fb56"),r=s.n(a);r.a},"8dbf":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dropdown-selectable"},[t.label?s("span",{staticClass:"dropdown-selectable__label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),s("span"),s("BaseDropdown",{staticClass:"dropdown-selectable__dropdown",attrs:{options:t.optionsWithoutSelected},on:{select:t.onSelect}},[s("BaseLink",[t._v(t._s(t.text))]),t._v(" "),s("font-awesome-icon",{staticClass:"dropdown-selectable__icon",attrs:{icon:"chevron-down"}})],1)],1)},r=[],n=(s("4de4"),s("45fc"),{name:"DropdownSelectable",props:{options:Array,label:String},data:function(){return{selected:{}}},computed:{text:function(){return this.selected.text?this.selected.text.toLowerCase():""},optionsWithoutSelected:function(){var t=this;return this.options.filter((function(e){return e!=t.selected}))}},created:function(){var t=this;this.options.some((function(e){if(e.selected)return t.selected=e,!0}))},methods:{onSelect:function(t){this.selected=t}}}),o=n,l=(s("853a"),s("2877")),i=Object(l["a"])(o,a,r,!1,null,"1953cb48",null);e["a"]=i.exports},"91a6":function(t,e,s){"use strict";var a=s("edc4"),r=s.n(a);r.a},ab8e:function(t,e,s){"use strict";s.r(e);var a=function(t,e){var s=e._c;return s("div",{staticClass:"placeholder"},[e.props.icon?s("div",{staticClass:"placeholder__icon",style:{backgroundImage:"url("+e.props.icon+")"}}):e._e(),s("div",{staticClass:"placeholder__text"},[e._t("default")],2),e.$slots.actions?s("div",{staticClass:"placeholder__actions"},[e._t("actions")],2):e._e()])},r=[],n={name:"ElementPlaceholder",props:{icon:String}},o=n,l=(s("0349"),s("2877")),i=Object(l["a"])(o,a,r,!0,null,"407a03f4",null);e["default"]=i.exports},edc4:function(t,e,s){},fb56:function(t,e,s){}}]);
//# sourceMappingURL=sponsors.9e5437c0.js.map