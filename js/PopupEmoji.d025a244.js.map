{"version":3,"sources":["webpack:///./src/components/PopupEmoji.vue?cc03","webpack:///./src/components/PopupEmoji.vue?b6a5","webpack:///src/components/PopupEmoji.vue","webpack:///./src/components/PopupEmoji.vue?74fb","webpack:///./src/components/PopupEmoji.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","on","$event","show","_t","attrs","$refs","parent","preventDefault","throttledLoadEmoji","class","emoji","skeleton","_l","category","element","$emit","_v","_s","staticRenderFns","component"],"mappings":"4GAAA,yBAAqnB,EAAG,G,2CCAxnB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACG,IAAI,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQT,EAAIU,MAAO,KAAQ,CAACV,EAAIW,GAAG,YAAY,GAAGP,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAOZ,EAAIU,KAAK,OAASV,EAAIa,MAAMC,OAAO,UAAU,OAAON,GAAG,CAAC,cAAc,SAASC,GAAQT,EAAIU,KAAKD,KAAU,CAACL,EAAG,MAAM,CAACE,YAAY,qBAAqBE,GAAG,CAAC,UAAY,SAASC,GAAQA,EAAOM,oBAAqB,CAACX,EAAG,gBAAgB,CAACG,IAAI,YAAYK,MAAM,CAAC,aAAa,KAAKJ,GAAG,CAAC,OAASR,EAAIgB,qBAAqB,CAACZ,EAAG,MAAM,CAACE,YAAY,oBAAoBW,MAAM,CAAE,4BAA6BjB,EAAIkB,MAAM,GAAGC,WAAY,CAACnB,EAAIoB,GAAIpB,EAAe,aAAE,SAASqB,GAAU,MAAO,CAACjB,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAOS,EAASA,aAAa,GAAGrB,EAAIoB,GAAIC,EAAa,MAAE,SAASC,GAAS,OAAOlB,EAAG,MAAM,CAACE,YAAY,sBAAsBE,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIuB,MAAM,cAAed,MAAW,CAACT,EAAIwB,GAAG,IAAIxB,EAAIyB,GAAGH,GAAS,eAAa,MAAM,MAAM,IAChhCI,EAAkB,G,8CC6CtB,GACE,KAAF,aACE,WAAF,CAAI,cAAJ,OAAI,UAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,MAAN,EACM,OAAN,EACM,MAAN,EAAQ,UAAR,EAAQ,KAAR,cAIE,SAAF,CACI,YADJ,WAEM,OAAN,kCAIE,MAAF,CACI,KADJ,WACM,IAAN,OACA,wBACQ,uCAAR,kBACU,EAAV,qBAME,QA5BF,WA6BI,KAAJ,wDAGE,QAAF,CACI,UADJ,SACA,GACM,IAAN,iEAEA,sCACQ,KAAR,YCnFoV,I,wBCQhVC,EAAY,eACd,EACA5B,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/PopupEmoji.d025a244.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupEmoji.vue?vue&type=style&index=0&id=5f3b4d26&scoped=true&lang=less&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupEmoji.vue?vue&type=style&index=0&id=5f3b4d26&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"popup-emoji\"},[_c('div',{ref:\"parent\",on:{\"click\":function($event){_vm.show = true}}},[_vm._t(\"default\")],2),_c('UtilPopup',{attrs:{\"show\":_vm.show,\"parent\":_vm.$refs.parent,\"align-y\":\"top\"},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"popup-emoji__block\",on:{\"mousedown\":function($event){$event.preventDefault();}}},[_c('UtilScrollbar',{ref:\"scrollbar\",attrs:{\"max-height\":200},on:{\"scroll\":_vm.throttledLoadEmoji}},[_c('div',{staticClass:\"popup-emoji__list\",class:{ 'popup-emoji__list_loading': _vm.emoji[0].skeleton }},[_vm._l((_vm.loadedEmoji),function(category){return [_c('div',{staticClass:\"popup-emoji__title\"},[_c('BaseLabel',{attrs:{\"text\":category.category}})],1),_vm._l((category.list),function(element){return _c('div',{staticClass:\"popup-emoji__symbol\",on:{\"click\":function($event){return _vm.$emit('selectEmoji', $event)}}},[_vm._v(\" \"+_vm._s(element)+\" \")])})]})],2)])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"popup-emoji\">\n        <div\n            ref=\"parent\"\n            @click=\"show = true\"\n        >\n            <slot/>\n        </div>\n        <UtilPopup\n            :show.sync=\"show\"\n            :parent=\"$refs.parent\"\n            align-y=\"top\"\n        >\n            <div\n                class=\"popup-emoji__block\"\n                @mousedown.prevent\n            >\n                <UtilScrollbar\n                    ref=\"scrollbar\"\n                    :max-height=\"200\"\n                    @scroll=\"throttledLoadEmoji\"\n                >\n                    <div class=\"popup-emoji__list\" :class=\"{ 'popup-emoji__list_loading': emoji[0].skeleton }\">\n                        <template v-for=\"category in loadedEmoji\">\n                            <div class=\"popup-emoji__title\">\n                                <BaseLabel :text=\"category.category\"/>\n                            </div>\n                            <div\n                                v-for=\"element in category.list\"\n                                class=\"popup-emoji__symbol\"\n                                @click=\"$emit('selectEmoji', $event)\"\n                            >\n                                {{ element }}\n                            </div>\n                        </template>\n                    </div>\n                </UtilScrollbar>\n            </div>\n        </UtilPopup>\n    </div>\n</template>\n\n<script>\nimport UtilPopup from './UtilPopup';\nimport UtilScrollbar from './UtilScrollbar';\n\nexport default {\n    name: 'PopupEmoji',\n    components: { UtilScrollbar, UtilPopup },\n\n    data() {\n        return {\n            show: false,\n            loaded: 1,\n            emoji: [{ skeleton: true, list: Array(50) }],\n        };\n    },\n\n    computed: {\n        loadedEmoji() {\n            return this.emoji.slice(0, this.loaded);\n        },\n    },\n\n    watch: {\n        show() {\n            if (this.emoji[0].skeleton) {\n                import(/* webpackChunkName: \"emoji\" */ '../js/Emoji.js').then((lib) => {\n                    this.emoji = lib.default;\n                });\n            }\n        },\n    },\n\n    created() {\n        this.throttledLoadEmoji = this.$_.throttle(this.loadEmoji, 10);\n    },\n\n    methods: {\n        loadEmoji(e) {\n            const untilEnd = e.target.scrollHeight - e.target.scrollTop - e.target.clientHeight;\n\n            if (untilEnd < 100 && this.loaded < this.emoji.length) {\n                this.loaded++;\n            }\n        },\n    },\n};\n</script>\n\n<style scoped lang=\"less\">\n    .popup-emoji {\n        display: inline-block;\n\n        &__block {\n            background: var(--ui__area_background);\n            box-shadow: 0 2px 10px var(--ui__area_shadow);\n            border: 1px solid var(--ui__area_border);\n            border-radius: 5px;\n        }\n\n        &__list {\n            padding: 10px;\n            display: grid;\n            grid-template-columns: repeat(10, 1fr);\n            grid-gap: 3px;\n        }\n\n        &__list_loading & {\n            &__symbol {\n                animation: pulse 1s linear infinite;\n            }\n\n            &__title {\n                padding: 0;\n                position: relative;\n                margin: 0 0 10px;\n\n                &:after {\n                    content: '';\n                    position: relative;\n                    bottom: auto;\n                    height: 1rem;\n                    width: 5rem;\n                    border-radius: 3px;\n                    animation: pulse 1s linear infinite;\n                }\n            }\n        }\n\n        &__title {\n            grid-column: span 10;\n            padding: 10px 4px 0;\n            position: sticky;\n            top: 0;\n            background: var(--ui__area_background);\n            margin: -10px 0 10px;\n\n            &:not(:first-child) {\n                margin-top: 20px;\n            }\n\n            &:before,\n            &:after {\n                content: '';\n                display: block;\n                position: absolute;\n                left: 0;\n                right: 0;\n            }\n\n            &:before {\n                background: linear-gradient(180deg, transparent 0%, var(--ui__area_background) 100%);\n                top: -20px;\n                height: 20px;\n                transform: translate3d(0px);\n            }\n\n            &:after {\n                background: linear-gradient(180deg, var(--ui__area_background) 0%, transparent 100%);\n                bottom: -10px;\n                height: 10px;\n                transform: translate3d(1px);\n            }\n        }\n\n        &__symbol {\n            width: 1.7rem;\n            height: $width;\n            line-height: $width;\n            text-align: center;\n            cursor: pointer;\n            border-radius: 3px;\n            font-size: 1.2rem;\n            user-select: none;\n\n            .element-animation();\n            .button-tertiary-interaction();\n        }\n    }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupEmoji.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PopupEmoji.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PopupEmoji.vue?vue&type=template&id=5f3b4d26&scoped=true&\"\nimport script from \"./PopupEmoji.vue?vue&type=script&lang=js&\"\nexport * from \"./PopupEmoji.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PopupEmoji.vue?vue&type=style&index=0&id=5f3b4d26&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f3b4d26\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}